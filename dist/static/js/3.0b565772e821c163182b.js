webpackJsonp([3],{"6YL/":function(t,e){},GAlM:function(t,e){},K85C:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Xt6H"),i=r("gfkZ"),s={data:function(){return{id:this.$route.params.id,article:{}}},components:{"v-article":a.a},methods:{editArticle:function(t){var e=this;Object(i.m)(this.id,t).then(function(t){1e3===t.state&&(e.$Message.success("文章编辑成功"),e.$router.push({name:"article-list"}))})}},created:function(){var t=this;Object(i.e)(this.id).then(function(e){1e3===e.state&&(t.article=e.data.article)})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"add-article"},[e("v-article",{attrs:{type:2,data:this.article},on:{"edit-article":this.editArticle}})],1)},staticRenderFns:[]};var o=r("VU/8")(s,c,!1,function(t){r("GAlM")},null,null);e.default=o.exports},Xt6H:function(t,e,r){"use strict";var a=r("Dd8w"),i=r.n(a),s=r("NYxO"),c={props:{type:Number,data:Object},data:function(){return{form:{title:"",desc:"",category:[],content:"",classification:""},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"}],desc:[{required:!0,message:"请输入文章描述",trigger:"blur"}],category:[{validator:function(t,e,r){e.length<1?r(new Error("请选择文章标签")):r()},required:!0,trigger:"change"}],content:[{required:!0,message:"请输入文章正文",trigger:"blur"}],classification:[{required:!0,message:"请选择文章分类",trigger:"change"}]}}},computed:i()({},Object(s.c)(["categories","classifications"])),methods:{handleArticle:function(){var t=this;this.$refs.form.validate(function(e){e&&(1===t.type?t.$emit("add-article",t.form):t.$emit("edit-article",t.form))})}},watch:{data:function(t){var e=t.category,r=t.classification,a=t.content,i=t.desc,s=t.title;this.form={category:e,classification:r,content:a,desc:i,title:s}}}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article"},[r("span",{staticClass:"title"},[t._v(t._s(1===t.type?"新增文章":"编辑文章"))]),t._v(" "),r("Form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("FormItem",{attrs:{prop:"title"}},[r("Input",{attrs:{placeholder:"请输入文章标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("FormItem",{attrs:{prop:"classification"}},[r("Select",{attrs:{placeholder:"请选择文章分类"},model:{value:t.form.classification,callback:function(e){t.$set(t.form,"classification",e)},expression:"form.classification"}},t._l(t.classifications,function(e,a){return r("Option",{key:a,attrs:{value:e._id}},[t._v(t._s(e.name))])}))],1),t._v(" "),r("FormItem",{attrs:{prop:"desc"}},[r("Input",{attrs:{type:"textarea",placeholder:"请输入文章描述"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),r("FormItem",{attrs:{prop:"category"}},[r("Select",{attrs:{multiple:"",placeholder:"请选择文章标签"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},t._l(t.categories,function(e,a){return r("Option",{key:a,attrs:{value:e._id}},[t._v(t._s(e.name))])}))],1),t._v(" "),r("FormItem",{staticClass:"editor-form-item",attrs:{prop:"content"}},[r("mavon-editor",{attrs:{ishljs:!0},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:t.handleArticle}},[t._v(t._s(1===t.type?"新建文章":"编辑文章"))])],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(c,o,!1,function(t){r("6YL/")},null,null);e.a=n.exports}});
//# sourceMappingURL=3.0b565772e821c163182b.js.map